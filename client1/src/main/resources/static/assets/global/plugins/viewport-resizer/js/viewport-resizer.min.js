(function(){function j(){var a="";h.html("");try{$(e.val()).map(function(){return $(this).filter("a[data-viewport]")}).each(function(){if(typeof $(this).prop("outerHTML")!="undefined"){a+=$(this).prop("outerHTML");if(parent.$("#toolbar").length){var c=$(a);window.top.document.updateDeviceList(c)}}})}catch(b){h.html('<b>Error:</b> Device name and "data-viewport" attribute are required: <pre><a <mark>data-viewport="400x600"</mark>><mark>Device name</mark></a></pre>');d.attr("checked",
    false)}e.val(a);f.attr("href",k.replace("%s",a));if(e.val().length)f.removeClass("disabled");else{d.attr("checked",false);f.addClass("disabled").attr("href","")}i.removeClass("hover active");d.filter(":checked").closest("label").addClass("active")}var g=$("form#customize"),d=$(":checkbox",g),i=$(d).closest("label"),e=$("#editor",g),h=$("#error",g),f=$("a.button",g),k=f.attr("href");$.fn.getValues=function(){return this.map(function(){return this.value}).get().join("")};$("a[data-text]").on("click",
    function(){if(parent.$("#toolbar").length){var a=$();$.each($($(this).attr("href").match(/<a[^>]*>(.*?)<\/a>/g)),function(b,c){a=a.add($(c))});window.top.document.updateDeviceList(a)}});i.on("mouseenter",function(){$(this).addClass("hover")}).on("mouseleave",function(){$(this).removeClass("hover")});d.on("change",function(){e.val(d.filter(":checked").getValues()).trigger("change")});e.on("change",function(){j()}).triggerHandler("change");f.on("click",function(a){$(this).hasClass("disabled")&&a.preventDefault()});
    $("a[data-toggle]",g).each(function(){var a=$(this),b=a.next("fieldset");$("b",a);a.on("init",function(){b.find(":checkbox").is(":checked")&&b.hide();a.trigger("update")}).on("update",function(){b.toggle();b.is(":visible")?a.addClass("active"):a.removeClass("active")}).on("click",function(c){c.preventDefault();a.trigger("update").removeClass("hover")}).on("mouseenter",function(){a.addClass("hover")}).on("mouseleave",function(){a.removeClass("hover")}).trigger("init")});$(".slider").each(function(){var a=
        $(".step",this),b=a.length,c=0;(function l(){a.removeClass("active");a.eq(c).addClass("active");c=++c%b;setTimeout(l,4500)})()});$('span[data-type="email"]').each(function(){var a=$(this),b=a.text().replace(" ","@"),c=a.attr("data-subject").length?b+"?subject="+encodeURI(a.attr("data-subject")):b;a.html($("<a>").attr("href","mailto:"+c).text(b))})})();